"use strict";function _classCallCheck(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function n(n,i){for(var e=0;e<i.length;e++){var t=i[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}return function(i,e,t){return e&&n(i.prototype,e),t&&n(i,t),i}}();!function(){var n=function(){function n(){var i=this;_classCallCheck(this,n),this.renderer=PIXI.autoDetectRenderer(window.Engine.Window.width,window.Engine.Window.height,{}),document.body.appendChild(this.renderer.view),this.main_stage=new PIXI.Container,this.animate(),window.Engine.Window.on_resize(function(){i.renderer.resize(window.Engine.Window.width,window.Engine.Window.height)})}return _createClass(n,[{key:"animate",value:function(){var n=this;this.renderer.render(this.main_stage),window.requestAnimationFrame(function(){n.animate()})}}]),n}();void 0===window.Engine&&(window.Engine={}),window.Engine.Application=n}(),function(){var n=function(){function n(){var i=this;_classCallCheck(this,n),this.keys=[],this.codes={LEFT:37,UP:38,RIGHT:39,DOWN:40,A:65,W:87,D:68,S:83},document.addEventListener("keydown",function(n){i.on_keydown(n.keyCode)}),document.addEventListener("keyup",function(n){i.on_keyup(n.keyCode)})}return _createClass(n,[{key:"on_keydown",value:function(n){this.is_down(n)||this.keys.push(n)}},{key:"on_keyup",value:function(n){this.is_down(n)&&this.keys.splice(this.keys.indexOf(n),1)}},{key:"is_down",value:function(n){return this.keys[n]&&(n=this.keys[n]),-1==this.keys.indexOf(n)?!1:!0}}]),n}();void 0===window.Engine&&(window.Engine={}),window.Engine.Key=new n}(),function(){var n=function(){function n(){var i=this;_classCallCheck(this,n),this.height=window.innerHeight,this.width=window.innerWidth,this.callback_function=function(){},this.timeout=void 0,window.onresize=function(){i.resize_callback()}}return _createClass(n,[{key:"resize_callback",value:function(){var n=this;void 0!=this.timeout&&(window.clearTimeout(this.timeout),this.timeout=void 0),this.timeout=window.setTimeout(function(){n.height=window.innerHeight,n.width=window.innerWidth,n.callback_function()},50)}},{key:"on_resize",value:function(n){this.callback_function=n}}]),n}();void 0===window.Engine&&(window.Engine={}),window.Engine.Window=new n}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcGxpY2F0aW9uLmpzIiwiYXBwbGljYXRpb24uZXM2IiwiZW5naW5lL2tleS5lczYiLCJlbmdpbmUvd2luZG93LmVzNiJdLCJuYW1lcyI6WyJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiaSIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImtleSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInByb3RvdHlwZSIsIkFwcGxpY2F0aW9uIiwiX3RoaXMiLCJ0aGlzIiwicmVuZGVyZXIiLCJQSVhJIiwiYXV0b0RldGVjdFJlbmRlcmVyIiwid2luZG93IiwiRW5naW5lIiwiV2luZG93Iiwid2lkdGgiLCJoZWlnaHQiLCJkb2N1bWVudCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsInZpZXciLCJtYWluX3N0YWdlIiwiQ29udGFpbmVyIiwiYW5pbWF0ZSIsIm9uX3Jlc2l6ZSIsInJlc2l6ZSIsInZhbHVlIiwiX3RoaXMyIiwicmVuZGVyIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwidW5kZWZpbmVkIiwiS2V5IiwiX3RoaXMzIiwia2V5cyIsImNvZGVzIiwiTEVGVCIsIlVQIiwiUklHSFQiLCJET1dOIiwiQSIsIlciLCJEIiwiUyIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwib25fa2V5ZG93biIsImtleUNvZGUiLCJvbl9rZXl1cCIsImtleV9jb2RlIiwiaXNfZG93biIsInB1c2giLCJzcGxpY2UiLCJpbmRleE9mIiwiX3RoaXM0IiwiaW5uZXJIZWlnaHQiLCJpbm5lcldpZHRoIiwiY2FsbGJhY2tfZnVuY3Rpb24iLCJ0aW1lb3V0Iiwib25yZXNpemUiLCJyZXNpemVfY2FsbGJhY2siLCJfdGhpczUiLCJj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S0FBQWdELGtCQUFBLGFBQ0FoRCxLQUFBaUQsUUFBQTNCLE9BRUFsQixPQUFBOEMsU0FBQSxXQUNBTCxFQUFBTSxtQkhtTEksTUF4QkFyRSxjR3BLSndCLElIcUtNWixJQUFLLGtCQUNMd0IsTUd6Sk4sV0gwSlEsR0FBSWtDLEdBQVNwRCxJR3pKckJzQixTQUFBdEIsS0FBQWlELFVBQ0E3QyxPQUFBaUQsYUFBQXJELEtBQUFpRCxTQUNBakQsS0FBQWlELFFBQUEzQixRQUdBdEIsS0FBQWlELFFBQUE3QyxPQUFBa0QsV0FBQSxXQUNBRixFQUFBNUMsT0FBQUosT0FBQTBDLFlBQ0FNLEVBQUE3QyxNQUFBSCxPQUFBMkMsV0FFQUssRUFBQUoscUJBQ0EsT0g4Sk10RCxJQUFLLFlBQ0x3QixNRzVKTixTQUFBOEIsR0FDQWhELEtBQUFnRCxrQkFBQUEsTUE1QkExQyxJQWdDQWdCLFVBQUFsQixPQUFBQyxTQUNBRCxPQUFBQyxXQUdBRCxPQUFBQyxPQUFBQyxPQUFBLEdBQUFBIiwiZmlsZSI6ImFwcGxpY2F0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOltudWxsLCIoZnVuY3Rpb24oKXtcbiAgY2xhc3MgQXBwbGljYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgdGhpcy5yZW5kZXJlciA9IFBJWEkuYXV0b0RldGVjdFJlbmRlcmVyKFxuICAgICAgICB3aW5kb3cuRW5naW5lLldpbmRvdy53aWR0aCxcbiAgICAgICAgd2luZG93LkVuZ2luZS5XaW5kb3cuaGVpZ2h0LFxuICAgICAgICB7fVxuICAgICAgKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci52aWV3KTtcbiAgICAgIHRoaXMubWFpbl9zdGFnZSA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICAgICAgdGhpcy5hbmltYXRlKCk7XG5cbiAgICAgIHdpbmRvdy5FbmdpbmUuV2luZG93Lm9uX3Jlc2l6ZSgoKSA9PiB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVzaXplKFxuICAgICAgICAgIHdpbmRvdy5FbmdpbmUuV2luZG93LndpZHRoLFxuICAgICAgICAgIHdpbmRvdy5FbmdpbmUuV2luZG93LmhlaWdodFxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgYW5pbWF0ZSgpIHtcbiAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMubWFpbl9zdGFnZSk7XG4gICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgdGhpcy5hbmltYXRlKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBpZih3aW5kb3cuRW5naW5lID09PSB1bmRlZmluZWQpIHtcbiAgICB3aW5kb3cuRW5naW5lID0ge307XG4gIH1cblxuICB3aW5kb3cuRW5naW5lLkFwcGxpY2F0aW9uID0gQXBwbGljYXRpb247XG59KCkpO1xuIiwiKGZ1bmN0aW9uKCl7XG5cbiAgY2xhc3MgS2V5IHtcbiAgICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgICB0aGlzLmtleXMgPSBbXTtcbiAgICAgIHRoaXMuY29kZXMgPSB7XG4gICAgICAgICdMRUZUJzogMzcsXG4gICAgICAgICdVUCc6IDM4LFxuICAgICAgICAnUklHSFQnOiAzOSxcbiAgICAgICAgJ0RPV04nOiA0MCxcbiAgICAgICAgJ0EnOiA2NSxcbiAgICAgICAgJ1cnOiA4NyxcbiAgICAgICAgJ0QnOiA2OCxcbiAgICAgICAgJ1MnOiA4MyxcbiAgICAgIH07XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcbiAgICAgICAgdGhpcy5vbl9rZXlkb3duKGUua2V5Q29kZSk7XG4gICAgICB9KTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGUpID0+IHtcbiAgICAgICAgdGhpcy5vbl9rZXl1cChlLmtleUNvZGUpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25fa2V5ZG93bihrZXlfY29kZSkge1xuICAgICAgaWYgKCF0aGlzLmlzX2Rvd24oa2V5X2NvZGUpKSB7XG4gICAgICAgIHRoaXMua2V5cy5wdXNoKGtleV9jb2RlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBvbl9rZXl1cChrZXlfY29kZSkge1xuICAgICAgaWYgKHRoaXMuaXNfZG93bihrZXlfY29kZSkpIHtcbiAgICAgICAgdGhpcy5rZXlzLnNwbGljZSh0aGlzLmtleXMuaW5kZXhPZihrZXlfY29kZSksIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlzX2Rvd24oa2V5X2NvZGUpIHtcbiAgICAgIGlmICh0aGlzLmtleXNba2V5X2NvZGVdKSB7XG4gICAgICAgIGtleV9jb2RlID0gdGhpcy5rZXlzW2tleV9jb2RlXTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmtleXMuaW5kZXhPZihrZXlfY29kZSkgPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYod2luZG93LkVuZ2luZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgd2luZG93LkVuZ2luZSA9IHt9O1xuICB9XG4gIHdpbmRvdy5FbmdpbmUuS2V5ID0gbmV3IEtleTtcbiAgXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCl7XG5cbiAgY2xhc3MgV2luZG93IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHRoaXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgdGhpcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuXG4gICAgICB0aGlzLmNhbGxiYWNrX2Z1bmN0aW9uID0gKCkgPT4ge307XG4gICAgICB0aGlzLnRpbWVvdXQgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHdpbmRvdy5vbnJlc2l6ZSA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5yZXNpemVfY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXNpemVfY2FsbGJhY2soKSB7XG4gICAgICBpZiAodGhpcy50aW1lb3V0ICE9IHVuZGVmaW5lZCkge1xuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XG4gICAgICAgIHRoaXMudGltZW91dCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgdGhpcy50aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoICgpID0+IHtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcblxuICAgICAgICB0aGlzLmNhbGxiYWNrX2Z1bmN0aW9uKCk7XG4gICAgICB9LCA1MCk7XG4gICAgfVxuXG4gICAgb25fcmVzaXplKGNhbGxiYWNrX2Z1bmN0aW9uKSB7XG4gICAgICB0aGlzLmNhbGxiYWNrX2Z1bmN0aW9uID0gY2FsbGJhY2tfZnVuY3Rpb247XG4gICAgfVxuICB9XG5cbiAgaWYod2luZG93LkVuZ2luZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgd2luZG93LkVuZ2luZSA9IHt9O1xuICB9XG5cbiAgd2luZG93LkVuZ2luZS5XaW5kb3cgPSBuZXcgV2luZG93KCk7XG5cbn0oKSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=